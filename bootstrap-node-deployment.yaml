apiVersion: apps/v1
kind: Deployment
metadata:
  name: bootstrap-node
spec:
  replicas: 1 # Only one bootstrap node (the first node in the chord ring)
  selector:
    matchLabels:
      app: bootstrap-node
  template:
    metadata:
      labels:
        app: bootstrap-node
    spec:
      containers:
        - name: bootstrap-node
          image: lukewarm3/node_server_image:latest
          env:
            - name: NODE_HOST
              value: "127.0.0.1"
            - name: NODE_PORT
              value: "9020"
            - name: NODE_ID
              value: "20"
            - name: IS_BOOTSTRAP
              value: "true"
          ports:
            - containerPort: 9020 # Expose port 9020 for the bootstrap node
          resources:
            requests:
              cpu: "1000m"  # 1 core
            limits:
              cpu: "1000m"  # 1 core
